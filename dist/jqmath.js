"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function M(e,t,r){return"number"==typeof e&&(e=String(e)),"string"==typeof e||Array.isArray(e)?M.sToMathE(e,t,r):1==e.nodeType&&"math"==e.tagName.toLowerCase()?M.eToMathE(e):void F.err(err_M_)}function appendMeArgs(e,t,r){return null==t||("string"==typeof t?e.appendChild(e.ownerDocument.createTextNode(t)):t.nodeType?e.appendChild(t):(t.constructor!=Array&&(t=F.slice(t)),F.iter(function(t){e.appendChild(t)},t))),M.setAttrs(e,r)}function checkMathMLAttrs(e){function t(e){return n.createElementNS(M.mathmlNS,e)}if(M.MathML&&!fixMathMLQ_)return e;var r=e.tagName.toLowerCase(),n=e.ownerDocument;if("mi"==r)!e.getAttribute("mathvariant")&&e.firstChild&&3==e.firstChild.nodeType&&e.setAttribute("mathvariant",1==e.firstChild.data.length?"italic":"normal");else if("mo"==r){if(1==e.childNodes.length&&3==e.firstChild.nodeType){var a=e.firstChild.data;/^[\u2061-\u2064]$/.test(a)&&M.addClass(e,"ma-non-marking")}}else if("mspace"==r)M.webkitVersion&&M.MathML&&(e.style.display="inline-block",e.style.minWidth=e.getAttribute("width")||"0px");else if("menclose"==r)M.webkitVersion&&M.MathML&&M.addClass(e,"fm-menclose");else if("mmultiscripts"==r&&M.webkitVersion){var i=F.slice(e.childNodes);if(0==i.length)throw"Wrong number of <mmultiscripts> arguments: 0";for(var s=[i[0]],o=1;o<i.length;o++)if("mprescripts"!=i[o].tagName){if(o+1==i.length)throw"Missing argument in <mmultiscripts>";var m=[s[0],i[o],i[o+1]];o++,s[0]=t("msubsup"),F.iter(function(e){s[0].appendChild(e)},m)}else s.unshift(t("none"));var l=e;e=appendMeArgs(t("mrow"),s,e.attributes),l.parentNode&&l.parentNode.replaceChild(e,l)}var c=e.getAttribute("mathcolor"),u=e.getAttribute("href");if(c&&e.style&&(e.style.color=c),u&&(!M.MathML||M.webkitVersion)){var f=n.createElement("A"),p=e.parentNode,d=e.nextSibling;f.appendChild(e),f.href=u,e=f,p&&p.insertBefore(e,d)}return e}function newMeNS(e,t,r,n){return n||(n=document),checkMathMLAttrs(appendMeArgs(M.MathPlayer?n.createElement("m:"+e):n.createElementNS(M.mathmlNS,e),t,r))}function checkVertStretch(e,t,r,n){if("mo"==r.nodeName.toLowerCase()&&1==r.childNodes.length){var a=r.firstChild,i=a.data;if(3==a.nodeType&&(e>.9||t>.9)&&(M.prefix_[i]<25||M.postfix_[i]<25||-1!="|‖√".indexOf(i)||n)){var s=(e+t)/1.2,o="√"==i,m=(o?.26:.35)+((o?.15:.25)-t)/s;r.style.fontSize=s.toFixed(3)+"em",r.style.verticalAlign=m.toFixed(3)+"em",r.fmUp=e,r.fmDn=t,r.style.display="inline-block",r.style.transform=r.style.msTransform=r.style.MozTransform=r.style.WebkitTransform="scaleX(0.5)"}}}function vertAlignE$(e,t,r){var n=$("<span/>").append(r);return n[0].fmUp=e,n[0].fmDn=t,n[0].style.verticalAlign=(.5*(e-t)).toFixed(3)+"em",n}function setPrecs(e,t){F.iter(function(t){var r=t[0];F.iter(function(t){e[t]=r},t[1].split(""))},t)}function newMe_(e,t,r){return M.newMe(e,t,r,docP_)}function emptyMe_(){return newMe_("mspace")}function scanWord(e){var t=/\s*([-\w.]*)/g;t.lastIndex=M.re_.lastIndex;var r=t.exec(s_);if(!r[1])throw"Missing "+(e||"word");return M.re_.lastIndex=t.lastIndex,r[1]}function scanString(e){var t=/\s*(?:(["'])|([-\w.]*))/g;t.lastIndex=M.re_.lastIndex;var r=t.exec(s_);if(r[2])return M.re_.lastIndex=t.lastIndex,r[2];if(!r[1])throw"Missing "+(e||"string");var n=r[1],a=RegExp("[^\\`"+n+"]+|[\\`](.|\n)|("+n+")","g"),i="";for(a.lastIndex=t.lastIndex;;){if(!(r=a.exec(s_)))throw"Missing closing "+n;if(r[2])break;i+=r[1]||r[0]}return M.re_.lastIndex=a.lastIndex,i}function scanMeTok(e){var t=scanTokP();if(!t||!t[0])throw"Missing expression argument"+(e?" after "+e:"")+", before position "+M.re_.lastIndex;return t}function mtokenScan(e){var t=scanString("mtext"==e?"text":e);return[newMe_(e,t),"mo"==e?t:null]}function htmlScan(){if(!M.trustHtml)throw"\\html use requires M.trustHtml";var e=scanString("html"),t=$("<div/>",docP_||document).css("display","inline-block").html(e)[0];return 1==t.childNodes.length&&(t=t.childNodes[0]),[newMe_("mtext",t),null]}function spScan(){var e=scanString("\\sp width");return[M.spaceMe(e,docP_),/^[^-]*[1-9]/.test(e)?" ":null]}function braceScan(){var e=scanTokP();if(e&&"↖"==e[1]&&!e[0]){var t=parseEmbel();if(e=t[1]||scanTokP(),!t[0]||!e||"}"!=e[1]||e[0])throw'Expected an embellished operator and "}" after "{↖", before position '+M.re_.lastIndex;return t[0]}var r=parse_mxP_tokP(0,e);return!(e=r[1])||"}"==e[1]&&!e[0]||F.err(err_braceScan_),[r[0]||emptyMe_(),null]}function attrScan(e,t){e||(e=scanWord("attribute name"));var r=scanString(e+" attribute"),n=scanMeTok(e);return t&&!M.MathML||n[0].setAttribute(e,r),n}function clScan(){var e="CSS class name(s)",t=scanString(e),r=scanMeTok(e);return M.addClass(r[0],t),r}function mvScan(e){var t=e||scanString("mathvariant"),r=scanMeTok(t),n=r[0];if(!F.elem(M.mtagName(n),["mi","mn","mo","mtext","mspace","ms"]))throw"Can only apply a mathvariant to a MathML token (atomic) element, at position "+M.re_.lastIndex;return n.setAttribute("mathvariant",t),/bold/.test(t)?M.addClass(n,"ma-bold"):"normal"!=t&&"italic"!=t||M.addClass(n,"ma-nonbold"),M.addClass(n,/italic/.test(t)?"ma-italic":"ma-upright"),/double-struck/.test(t)?M.addClass(n,"ma-double-struck"):/fraktur/.test(t)?M.addClass(n,"ma-fraktur"):/script/.test(t)?M.addClass(n,"ma-script"):/sans-serif/.test(t)&&M.addClass(n,"ma-sans-serif"),r}function meScan(e){e||(e=scanWord("tagName"));var t=scanMeTok({menclose:"enclose"}[e]||e);return[newMe_(e,t[0]),F.elem(e,["mstyle","mpadded"])?t[1]:null]}function phantomScan(e){var t=scanMeTok(e);return F.iter(function(e){e.disabled=!0},$("input",t[0])),"vphantom"==e&&(t[0]=newMe_("mpadded",t[0],{width:"0",style:"display: inline-block; width: 0"})),[newMe_("mphantom",t[0]),t[1]]}function ovScan(){return[M.menclose(scanMeTok("\\ov")[0],{notation:"top"},docP_),null]}function minsizeScan(){var e=scanString("minsize"),t=scanMeTok("minsize"),r=t[0];if("mo"!=M.mtagName(r))throw"Can only stretch an operator symbol, before position "+M.re_.lastIndex;if(M.MathML)r.setAttribute("minsize",e);else{var n=/^(.+)em$/.exec(e);n&&(e=n[1]);var a=Number(e);a>1?checkVertStretch(.6*a,.6*a,r,!0):a||(r.style.fontSize=e)}return t}function mrow1Scan(){return[newMe_("mrow",scanMeTok("\\mrowOne")[0]),null]}function binomScan(){var e=scanMeTok("\\binom")[0],t=scanMeTok("\\binom")[0],r=newMe_("mtable",F.map(function(e){return newMe_("mtr",newMe_("mtd",e))},[e,t]));return M.addClass(r,"ma-binom"),M.MathML||(r.fmUp-=.41,r.fmDn-=.41),[newMe_("mrow",[newMe_("mo","("),r,newMe_("mo",")")]),null]}function scanTokP(){for(var e=M.re_.exec(s_);!e;){if(M.re_.lastIndex=s_.length,s_or_mx_i_==s_or_mx_a_.length)return null;var t=s_or_mx_a_[s_or_mx_i_++];if("string"==typeof t)M.re_.lastIndex=0,s_=t,e=M.re_.exec(s_);else{if(1==t.nodeType)return[t,null];F.err(err_scanTokP_)}}var r=e[2]||e[0],n=null;if(/^[_^}\u2196\u2199]$/.test(e[0])||e[2]&&M.macro1s_[r])return[null,r];if("{"==e[0])return braceScan();if(e[2]&&M.macros_[r])return M.macros_[r]();if(e[1])return[M.newMe("mn",r,docP_),null];if(/^[,:;!]$/.test(e[2]))r=" ";else if("/"==e[2])r="∕";else if(M.alias_[r]&&!e[2]){var a=M.alias_[r];"string"==typeof a?r=a:(r=a[0],n=a[1])}var i,s=M.infix_[r]||M.prefix_[r]||M.postfix_[r]?r:null;if(" "==r)i=M.spaceMe(spaces_[e[2]||","],docP_);else if(s){if(/^[∛∜]$/.test(r)&&!e[2])return i=newMe_("mn","∛"==r?"3":"4"),[newMe_("msup",[newMe_("mo","√"),i]),"√"];i=M.newMe("mo",r,docP_),/^[∀∃∄∂∇]$/.test(r)?(i.setAttribute("lspace",".11em"),i.setAttribute("rspace",".06em")):"!"==r?(i.setAttribute("lspace",".06em"),i.setAttribute("rspace","0")):"×"==r&&(i.setAttribute("lspace",".22em"),i.setAttribute("rspace",".22em"))}else i=M.newMe("mi",r,docP_),e[2]&&1==r.length?(i.setAttribute("mathvariant","normal"),M.addClass(i,"ma-upright"),M.MathML||(i.style.paddingRight="0")):n&&(i.setAttribute("mathvariant",n),M.addClass(i,"ma-upright"),M.addClass(i,"ma-"+n)),/\w\w/.test(r)&&M.addClass(i,"ma-repel-adj");return[i,s]}function parse_mtd_tokP(e){var t=parse_mxP_tokP(M.infix_[","]),r=t[1]||scanTokP(),n=t[0];if(!n){if(e&&(!r||","!=r[1]))return[null,r];n=emptyMe_()}var a=M.mtagName(n);return"mtd"==a||"mtr"==a&&e||(n=M.newMe("mtd",n,docP_)),[n,r]}function parse_rowspan_tokP(){var e=scanString("rowspan"),t=parse_mtd_tokP(),r=t[0];return r.setAttribute(M.MathML?"rowspan":"rowSpan",e),M.hasClass(r,"middle")||M.addClass(r,"middle"),t}function parse_colspan_tokP(){var e=scanString("colspan"),t=parse_mtd_tokP();return t[0].setAttribute(M.MathML?"columnspan":"colSpan",e),t}function parse_mtr_tokP(e){for(var t=[];;){var r=parse_mtd_tokP(0==t.length),n=r[0],a=r[1]||scanTokP();if(n){if("mtr"==M.mtagName(n))return[n,a];t.push(n)}if(!a||","!=a[1])return[t.length||!e||a&&";"==a[1]?M.newMe("mtr",t,docP_):null,a]}}function parse_table_tokP(e){void 0===e&&(e=M.dtableQ);for(var t=[];;){var r=parse_mtr_tokP(0==t.length),n=r[0],a=r[1]||scanTokP();if(n&&t.push(n),!a||";"!=a[1])return[newMe_("mtable",t,e?{displaystyle:!0}:void 0),a]}}function parse_math_tokP(){var e=parse_mxP_tokP(0);return e[0]=M.newMe("math",e[0],docP_),e}function embelKP(e){var t=embelWs_[e];return t&&(t.length<4?"ss":"uo")}function parseEmbel(e,t){for(;;){if(t||(t=scanTokP()),!t||t[0]||!embelWs_[t[1]]){if(t&&!e){e=t,t=null;continue}return[e,t]}var r=embelKP(t[1]),n=function(){for(var e={},n={};;){if(t||(t=scanTokP()),!t||t[0])break;var a=t[1];if(embelKP(a)!=r||n[a])break;if(n[a]=!0,!(t=scanTokP())||embelKP(t[1])!=r||t[0]){var i=parse_mxP_tokP(999,t);e[a]=i[0],t=i[1]}}return e},a=n();if("uo"==r||!t||(t[0]?e:"ss"!=embelKP(t[1]))){e||(e=[emptyMe_(),null]);var i="m",s=[e[0]];F.iter(function(e){a[e]&&(i+=embelWs_[e],s.push(a[e]))},["_","^","↙","↖"]),s.length>1&&(e=[M.newMe(i,s,docP_),e[1]])}else{for(var o=[a];t&&!t[0]&&"ss"==embelKP(t[1]);)o.push(n());if(!e)if(t&&t[0]){e=t,t=scanTokP();for(var m=[];t&&!t[0]&&"ss"==embelKP(t[1]);)m.push(n());o=m.concat(null,o)}else e=[emptyMe_(),null];s=[e[0]];F.iter(function(e){e?s.push(e._||M.newMe("none",void 0,docP_),e["^"]||M.newMe("none",void 0,docP_)):s.push(M.newMe("mprescripts",void 0,docP_))},o),e=[M.newMe("mmultiscripts",s,docP_),e[1]]}}}function parse_mxP_tokP(e,t){for(var r=null;;){if(!t&&!(t=scanTokP()))break;var n=t[1];if(!n||r&&(t[0]?!(M.infix_[n]||M.postfix_[n]):M.macro1s_[n]))if(r){if(e>=precAdj_)break;var a=(h=parse_mxP_tokP(precAdj_,t))[0];a||F.err(err_parse_mxP_tokP_1_);l=M.newMe("mrow",[r,a],docP_);(M.hasClass(r,"ma-repel-adj")||M.hasClass(a,"ma-repel-adj"))&&(n&&t[0]&&M.prefix_[n]<25||$(r).after(M.spaceMe(".17em",docP_)),M.addClass(l,"ma-repel-adj")),r=l,t=h[1]}else r=t[0],t=null;else{var i=t[0];if(i){var s=M.infix_[n]||M.postfix_[n];if(s&&e>=s)break;var o=M.infix_[n]||!(r&&M.postfix_[n])&&M.prefix_[n];!M.MathML&&!r&&290<=o&&o<=350&&($(i).addClass("fm-large-op"),i.fmUp=.855,i.fmDn=.705);p=[];(u=parseEmbel(t))[0]||F.err(err_parse_mxP_tokP_embel_);var m=u[0][0];if(t=u[1],r&&p.push(r),p.push(m),o&&((h=parse_mxP_tokP(o,t))[0]&&p.push(h[0]),t=h[1],o<25&&!r&&(t||(t=scanTokP()),t&&t[1]&&t[0]&&(M.postfix_[t[1]]||M.infix_[t[1]])==o&&(p.push(t[0]),t=null))),1==p.length)r=p[0];else if("/"==n&&r&&3==p.length||"√"==n&&!r&&2==p.length)"√"==n&&"msup"==M.mtagName(p[0])?r=M.newMe("mroot",[p[1],M.mchilds(p[0])[1]],docP_):(p.splice(p.length-2,1),r=M.newMe("/"==n?"mfrac":"msqrt",p,docP_));else{var l=M.newMe("mrow",p,docP_);if(" "==n||(s||o)>=precAdj_);else{var c="";"="==n?c="infix-loose":2==p.length?(c=r?"postfix":"prefix",M.infix_[n]?c+="-tight":(/^[∀∃∄∂∇]$/.test(n)&&(c="quantifier"),M.addClass(l,"ma-repel-adj"))):r&&(c=","==n||";"==n?"separator":s<=270?"infix-loose":"infix","|"==n&&M.MathML&&"mo"==i.tagName&&(i.setAttribute("lspace",".11em"),i.setAttribute("rspace",".11em"))),M.MathML||!c||i.style.fontSize||$(m).addClass("fm-"+c)}r=l}}else{if("}"==n)break;if(M.macro1s_[n])!r||F.err(err_parse_mxP_tokP_macro_),r=(h=M.macro1s_[n]())[0],t=h[1];else{if(embelWs_[n]||F.err(err_parse_mxP_tokP_script_),e>=999)break;var u=parseEmbel(r&&[r,null],t),f=u[0];f||F.err(err_parse_mxP_tokP_embel_2_),t=u[1];var p=[f[0]],d=f[1];if(d&&(o=M.infix_[d]||M.prefix_[d])){var h=parse_mxP_tokP(o,t);h[0]&&p.push(h[0]),t=h[1]}r=1==p.length?p[0]:M.newMe("mrow",p,docP_)}}}}return[r,t]}function parseMath(e){if(void 0===M.MathML&&(M.MathML=M.canMathML()),M.parseMathQ)try{M.parseMath(e)}catch(e){console.error(e)}}Object.defineProperty(exports,"__esModule",{value:!0});var $=_interopDefault(require("jquery")),F=function(){function e(t){if("function"==typeof t)return e.curry.apply(void 0,arguments);if(2==arguments.length){var r=arguments[1];if("string"==typeof t)return r[t].bind(r);if("function"==typeof r)return("number"==typeof t?e.aritize:e.partial)(t,r)}return 1==arguments.length||e.err(err_F_1_),"number"==typeof t||"string"==typeof t?e.pToF(t):1==t.nodeType?jQuery.data(t):t&&"object"==typeof t?e.aToF(t):void e.err(err_F_2_)}var t=Array.prototype.slice;return Function.prototype.bind||(Function.prototype.bind=function(e){var r=this,n=t.call(arguments,1);return function(){return r.apply(e,n.concat(t.call(arguments,0)))}}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}),Array.isArray||(Array.isArray=function(e){return"object"==typeof e&&null!==e&&"[object Array]"===Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),Date.now||(Date.now=function(){return(new Date).getTime()}),e.err=function(){throw e.debug,Error("Assertion failed")},e.id=function(e){return e},e.constant=function(e){return function(){return e}},e.applyF=function(e,t){return e.apply(void 0,t)},e.curry=function(e){var t=e;return arguments[0]=void 0,t.bind.apply(t,arguments)},e._={},e.partial=function(r,n){var a=r.length;return function(){for(var i=t.call(arguments,0),s=0;s<a;s++)r[s]!==e._?i.splice(s,0,r[s]):i.length==s&&i.push(void 0);return n.apply(this,i)}},e.uncurry=function(e){return function(t,r){return e(t)(r)}},e.o=function(){var e=arguments;return function(){for(var t=e.length,r=e[--t].apply(void 0,arguments);t>0;)r=e[--t](r);return r}},e.oMap=function(t,r){return function(){return e.applyF(t,e.map(r,arguments))}},e.flip=function(e){return function(t,r){return e(r,t)}},e.seqF=function(){var e=arguments,t=e.length;return function(){for(var r,n=0;n<t;n++)r=e[n].apply(void 0,arguments);return r}},e.cor=function(){var t=arguments;return function(){return e.any(e([e._,arguments],e.applyF),t)}},e.aritize=function(r,n){return function(){return e.applyF(n,t.call(arguments,0,r))}},e.not=function(e){return!e},e.defOr=function(e,t){return void 0!==e?e:t},e.cmpX=function(e,t){return e-t},e.cmpJS=function(e,t){return e<t?-1:e==t?0:1},e.cmpLex=function(t,r,n){return e.any(function(e,r){return r==n.length?1:t(e,n[r])},r)||r.length-n.length},e.eqTo=function(t,r){return r||(r=function(e,t){return e!==t}),e.o(e.not,e(r,t))},e.pToF=function(e){return function(t){return t[e]}},e.aToF=function(e){return function(t){return e[t]}},e.fToA=function(e,t){for(var r=new Array(t),n=0;n<t;n++)r[n]=e(n);return r},e.memoF=function(e,t){return t||(t={}),function(r){return t.hasOwnProperty(r)?t[r]:t[r]=e(r)}},e.replicate=function(t,r){return e.fToA(e.constant(r),t)},e.setF=function(e,t,r){e[t]=r},e.obj1=function(e,t){var r={};return r[e]=t,r},e.slice=function(e,t,r){if(null==t&&(t=0),Array.isArray(e))return e.slice(t,r);var n=e.length;t=t<0?Math.max(0,n+t):Math.min(n,t),r=void 0===r?n:r<0?Math.max(0,n+r):Math.min(n,r);for(var a=[];t<r;)a.push(e[t++]);return a},e.array=function(){return t.call(arguments,0)},e.concatArgs=e.oMap(e("concat",[]),function(t){return Array.isArray(t)?t:e.slice(t)}),e.concatMap=function(t,r){return e.applyF(e.concatArgs,e.map(t,r))},e.reverseCopy=function(t){return e.slice(t).reverse()},e.findIndex=function(e,t){for(var r=t.length,n=0;n<r;n++)if(e(t[n],n,t))return n;return-1},e.findLastIndex=function(e,t){for(var r=t.length;--r>=0;)if(e(t[r],r,t))return r;return-1},e.find=function(t,r){var n=e.findIndex(t,r);return-1==n?void 0:r[n]},e.elemIndex=function(t,r,n){return r.indexOf&&!n&&Array.isArray(r)?r.indexOf(t):e.findIndex(e.eqTo(t,n),r)},e.elemLastIndex=function(t,r,n){return r.lastIndexOf&&!n&&Array.isArray(r)?r.lastIndexOf(t):e.findLastIndex(e.eqTo(t,n),r)},e.elem=function(t,r,n){return-1!=e.elemIndex(t,r,n)},e.all=function(e,t){if(t.every&&Array.isArray(t))return t.every(e);for(var r=t.length,n=0;n<r;n++)if(!e(t[n],n,t))return!1;return!0},e.any=function(e,t){for(var r=t.length,n=!1,a=0;a<r;a++)if(n=e(t[a],a,t))return n;return n},e.iter=function(r,n){if(2==arguments.length){if(n.forEach&&Array.isArray(n))return n.forEach(r);for(var a=n.length,i=0;i<a;i++)r(n[i],i,n)}else{arguments.length>2||e.err(err_iter_);for(var s=t.call(arguments,1),a=e.applyF(Math.min,e.map(e("length"),s)),i=0;i<a;i++)e.applyF(r,e.map(e(i),s).concat(i,s))}},e.map=function(e,t){if(t.map&&Array.isArray(t))return t.map(e);for(var r=t.length,n=new Array(r),a=0;a<r;a++)n[a]=e(t[a],a,t);return n},e.map1=function(t,r){return e.map(e(1,t),r)},e.zipWith=function(t){arguments.length>1||e.err(err_zipWith_);for(var r=[],n=0;;n++){for(var a=[],i=1;i<arguments.length;i++){var s=arguments[i];if(!(n<s.length))return r;a.push(s[n])}r.push(e.applyF(t,a))}return r},e.zip=e(e.zipWith,e.array),e.unzip=function(t){return t.length?e.applyF(e.zip,t):[]},e.filter=function(t,r){return r.filter&&Array.isArray(r)?r.filter(t):e.fold(function(e,r,n,a){return t(r,n,a)&&e.push(r),e},r,[])},e.fold=function(t,r,n){if(r.reduce&&Array.isArray(r))return arguments.length<3?r.reduce(t):r.reduce(t,n);var a=r.length,i=0;for(arguments.length<3&&(n=a?r[i++]:e.err(err_fold_));i<a;i++)n=t(n,r[i],i,r);return n},e.foldR=function(t,r,n){if(r.reduceRight&&Array.isArray(r))return arguments.length<3?r.reduceRight(t):r.reduceRight(t,n);var a=r.length;for(arguments.length<3&&(n=a?r[--a]:e.err(err_foldR_));--a>=0;)n=t(n,r[a],a,r);return n},e.sum=function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];return r},e.test=function(t){if(0!==t&&""!==t||(t=typeof t),"string"==typeof t)return function(e){return typeof e==t};if(t===Array||t===Date||t===RegExp)return function(e){return null!=e&&e.constructor==t};if(null===t)return e.eqTo(null);if(t.constructor==RegExp)return e("test",t);if("function"==typeof t)return t;if(Array.isArray(t))return 1==t.length?(t=e.test(t[0]),function(r){return Array.isArray(r)&&e.all(t,r)}):(t=e.map(e.test,t),function(r){return e.any(function(e){return e(r)},t)});if("object"==typeof t){var r=Object.keys(t),n=e.map(e.o(e.test,e(t)),r);return function(t){return null!=t&&e.all(function(e,r){return n[r](t[e])},r)}}e.err(err_test_)},e.translations_={},e.s=function(t){return e.translations_[t]||t},e}();Math.sign||(Math.sign=function(e){return(e=Number(e))>0?1:e<0?-1:e}),Math.trunc||(Math.trunc=function(e){return(e<0?Math.ceil:Math.floor)(e)}),M.toArray1=function(e){return Array.isArray(e)?e:[e]},M.getSpecAttrP=function(e,t){var r=e.getAttributeNode(t);return r&&!1!==r.specified?r.value:void 0},M.objToAttrs=function(e){var t=[];for(var r in e)t.push({name:r,value:e[r]});return t},M.setAttrs=function(e,t){return t&&null==t.length&&(t=M.objToAttrs(t)),F.iter(function(t){!1!==t.specified&&e.setAttribute(t.name,t.value)},t||[]),e},M.replaceNode=function(e,t){return t.parentNode.replaceChild(e,t),e},M.addClass=function(e,t){if(void 0!==e.className){r=e.className;e.className=(r?r+" ":"")+t}else{var r=e.getAttribute("class");e.setAttribute("class",(r?r+" ":"")+t)}return e},M.eToClassesS=function(e){return(void 0!==e.className?e.className:e.getAttribute("class"))||""},M.hasClass=function(e,t){return-1!=(" "+M.eToClassesS(e)+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")},M.inlineBlock=function(){var e=$("<div/>").css("display","inline-block");return arguments.length&&e.append.apply(e,arguments),e[0]},M.tr$=function(){var e=$.fn.append;return e.apply($("<tr/>"),F.map(function(t){return e.apply($("<td/>"),M.toArray1(t))},arguments))},M.mathmlNS="http://www.w3.org/1998/Math/MathML";var fixMathMLQ_=!1;!function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/webkit[ \/](\d+)\.(\d+)/);t?(M.webkitVersion=[Number(t[1]),Number(t[2])],fixMathMLQ_=M.webkitVersion[0]<=540):(t=e.match(/(opera)(?:.*version)?[ \/]([\w.]+)/)||e.match(/(msie) ([\w.]+)/)||e.indexOf("compatible")<0&&e.match(/(mozilla)(?:.*? rv:([\w.]+))?/))&&(M[t[1]+"Version"]=t[2]||"0")}(),M.msieVersion&&document.write('<object id=MathPlayer classid="clsid:32F66A20-7614-11D4-BD11-00104BD3F987">','</object><?IMPORT namespace="m" implementation="#MathPlayer" ?>'),function(){if(self.location){var e=location.search.match(/[?&;]mathml=(?:(off|false)|(on|true))\b/i);e?M.MathML=!e[1]:(M.webkitVersion&&F.cmpLex(F.cmpX,M.webkitVersion,[537,17])<0||M.operaVersion)&&(M.MathML=!1)}}(),M.canMathML=function(){if(M.msieVersion&&!M.MathPlayer)try{if(new ActiveXObject("MathPlayer.Factory.1"),null==M.MathPlayer)M.MathPlayer=!0;else if(!M.MathPlayer)return!1}catch(e){M.MathPlayer=!1}if(!M.MathPlayer&&void 0===document.createElementNS)return!1;var e=newMeNS("math",newMeNS("mn","1")),t=newMeNS("math",newMeNS("mfrac",[newMeNS("mn","1"),newMeNS("mn","2")])),r=$(F.map(function(e){return e.setAttribute("display","block"),$("<div/>").append(e)[0]},[e,t]));r.css("visibility","hidden").appendTo(document.body);var n=$(r[1]).height()>$(r[0]).height()+2;return r.remove(),n},M.mtagName=function(e){return"A"==e.tagName&&1==e.childNodes.length&&(e=e.firstChild),e.getAttribute("mtagname")||e.tagName.toLowerCase().replace(/^m:/,"")},M.mchilds=function(e){function t(e){return"SPAN"==e.tagName||F.err(err_span0_),e.firstChild}"A"==e.tagName&&1==e.childNodes.length&&(e=e.firstChild);for(var r=e.getAttribute("mtagname");"SPAN"==e.tagName;)e=e.firstChild;if("TABLE"==e.tagName){if("TBODY"==(e=e.firstChild).tagName||F.err(err_mchilds_tbody_),"mtable"==r)return e.childNodes;n=e.childNodes;return"mover"==r?n=[n[1],n[0]]:"munderover"==r&&(n=[n[1],n[2],n[0]]),F.map(function(e){return e.firstChild.firstChild},n)}if("MROW"==e.tagName&&r){var n=e.childNodes;if("msqrt"==r)return[t(t(n[1]))];if("mroot"==r)return[t(t(n[2])),t(n[0])];"mmultiscripts"==r||F.err(err_mchilds_mrow_);var a=Number(e.getAttribute("nprescripts"));0<=a&&a<n.length&&a%2==0||F.err(err_mchilds_mmultiscripts_);for(var i=[n[a]],s=a+1;s<n.length;s++)i.push(t(n[s]));if(a){i.push(e.ownerDocument.createElement("mprescripts"));for(s=0;s<a;s++)i.push(t(n[s]))}return i}return F.elem(e.tagName,["MSUB","MSUP","MSUBSUP"])?F.map(function(e,r){return r?t(e):e},e.childNodes):"MSPACE"==e.tagName?[]:e.childNodes};var mtokens_=["mn","mi","mo","mtext","mspace","ms"],impMRows_=["fmath","msqrt","mtd","mstyle","merror","mpadded","mphantom","menclose"],accentDsByS_={"¯":[0,.85],"‾":[0,.85],"˙":[0,.75],"ˇ":[0,.7],"^":[0,.5],"~":[0,.4],"→":[.25,.25],_:[.7,0],"−":[.25,.45],".":[.6,.1]};M.newMe=function(e,t,r,n){if(n||(r&&9==r.nodeType?(n=r,r=void 0):n=document),null!=M.MathML||F.err(err_newMe_MathML_),M.MathML)return newMeNS(e,t,r,n);"math"==e&&(e="fmath");var a=$(appendMeArgs(n.createElement(e.toUpperCase()),t)),i=F.slice(a[0].childNodes);F.elem(e,impMRows_)&&1!=i.length&&(i=[M.newMe("mrow",i,void 0,n)],0==a[0].childNodes.length||F.err(err_newMe_imp_mrow_),a.append(i[0]));var s=F.map(function(e){return Number(e.fmUp||.6)},i),o=F.map(function(e){return Number(e.fmDn||.6)},i);if("fmath"==e||"mn"==e||"mtext"==e||"mprescripts"==e||"none"==e);else if("mstyle"==e||"merror"==e||"mpadded"==e||"mphantom"==e||"menclose"==e)i[0].fmUp&&(a[0].fmUp=i[0].fmUp),i[0].fmDn&&(a[0].fmDn=i[0].fmDn);else if("mi"==e)3==(C=1==i.length?i[0]:{}).nodeType&&1==C.data.length&&(a.addClass("fm-mi-length-1"),"f"==C.data&&a.css("padding-right","0.44ex"));else if("mo"==e)3==(C=1==i.length?i[0]:{}).nodeType&&/[\]|([{‖)}]/.test(C.data)&&a.addClass("fm-mo-Luc");else if("mspace"==e){E=M.setAttrs(a[0],r);r=void 0,E.style.marginRight=E.getAttribute("width")||"0px",E.style.paddingRight="0.001em",a.append("‌"),a.css("visibility","hidden")}else if("mrow"==e){var m=F.applyF(Math.max,s),l=F.applyF(Math.max,o);(m>.65||l>.65)&&(a[0].fmUp=m,a[0].fmDn=l,F.iter(F([m,l,F._,void 0],checkVertStretch),i))}else if("mfrac"==e){if(2!=i.length)throw"Wrong number of <mfrac> arguments: "+i.length;var c=$('<td class="fm-num-frac fm-inline"></td>',n).append(i[0]),u=$('<td class="fm-den-frac fm-inline"></td>',n).append(i[1]);a=vertAlignE$(s[0]+o[0]+.03,s[1]+o[1]+.03,$('<span class="fm-vert fm-frac"></span>',n).append($("<table/>",n).append($("<tbody/>",n).append($("<tr/>",n).append(c)).append($("<tr/>",n).append(u))))).attr("mtagname",e)}else if("msqrt"==e||"mroot"==e){if(i.length!=("msqrt"==e?1:2))throw"Wrong number of <"+e+"> arguments: "+i.length;a=$("<mrow/>",n).attr("mtagname",e);var f=.06*(s[0]+o[0]),m=s[0]+f+.1,l=o[0];if("mroot"==e){var p=.6*(s[1]+o[1]),d=.25/.6-.25;m>p?d+=m/.6-s[1]:(d+=o[1],m=p),a.append($('<span class="fm-root fm-inline"></span>',n).append(i[1]).css("verticalAlign",d.toFixed(2)+"em"))}var h=$("<mo/>",n).addClass("fm-radic").append("√"),_=vertAlignE$(m,l,$('<span class="fm-vert fm-radicand"></span>',n).append(i[0]).css("borderTopWidth",f.toFixed(3)+"em"));checkVertStretch(m,l,h[0]),a.append(h).append(_),a[0].fmUp=m,a[0].fmDn=l}else if("msub"==e||"msup"==e||"msubsup"==e||"mmultiscripts"==e){if("mmultiscripts"!=e&&i.length!=("msubsup"==e?3:2))throw"Wrong number of <"+e+"> arguments: "+i.length;for(var m=s[0],l=o[0],g="msup"==e,v=m/.71-.6,y=l/.71-.6,b=1;b<i.length;b++){if("mmultiscripts"==e){if("none"==(k=M.mtagName(i[b])))continue;if("mprescripts"==k){if(g)throw'Repeated "mprescripts"';g=!0;continue}}b%2==(g?0:1)?y=Math.max(y,s[b]):v=Math.max(v,o[b])}for(var x=void 0,w=[],A=0,b=1;b<i.length;b++){if("mmultiscripts"==e){var k=M.mtagName(i[b]);if("mprescripts"==k){x=[],A=i.length-b-1;continue}}d=.25/.71-.25;b%2==(x?0:1)&&"msup"!=e?(d-=y,l=Math.max(l,.71*(y+o[b]))):(d+=v,m=Math.max(m,.71*(v+s[b]))),$(i[b]).wrap('<span class="fm-script fm-inline"></span>').parent().css("verticalAlign",d.toFixed(2)+"em"),M.msieVersion&&(document.documentMode||M.msieVersion)<8&&(i[b].style.zoom=1),"mmultiscripts"==e&&(x||w).push(i[b].parentNode)}"mmultiscripts"==e&&(a=$("<mrow/>").append($((x||[]).concat(i[0],w))).attr({mtagname:"mmultiscripts",nprescripts:A})),a[0].fmUp=m,a[0].fmDn=l}else if("munder"==e||"mover"==e||"munderover"==e){if(i.length!=("munderover"==e?3:2))throw"Wrong number of <"+e+"> arguments: "+i.length;var P,S=$("<tbody/>",n),m=.85*s[0],l=.85*o[0];if("munder"!=e){var N=i[i.length-1],T=void 0;P=$("<td/>",n).append(N),"MO"==N.nodeName&&1==N.childNodes.length&&3==(C=N.firstChild).nodeType&&(T=accentDsByS_[C.data]),T?(N.style.display="block",N.style.marginTop=(-T[0]).toFixed(2)+"em",N.style.marginBottom=(-T[1]).toFixed(2)+"em",m+=1.2-F.sum(T)):(P.addClass("fm-script fm-inline"),m+=.71*(s[i.length-1]+o[i.length-1])),S.append($("<tr/>",n).append(P))}if("MI"==i[0].nodeName&&1==i[0].childNodes.length){var C=i[0].firstChild,L=C.data;3==C.nodeType&&1==L.length&&(d=-1!="acegmnopqrsuvwxyz".indexOf(L)?.25:"t"==L?.15:0)&&(i[0].style.display="block",i[0].style.marginTop=(-d).toFixed(2)+"em",m-=d)}P=$('<td class="fm-underover-base"></td>',n).append(i[0]),S.append($("<tr/>",n).append(P)),"mover"!=e&&(P=$('<td class="fm-script fm-inline"></td>',n).append(i[1]),S.append($("<tr/>",n).append(P)),l+=.71*(s[1]+o[1])),a=vertAlignE$(m,l,$('<span class="fm-vert"></span>',n).append($("<table/>",n).append(S))).attr("mtagname",e)}else if("mtable"==e){S=$("<tbody/>",n).append($(i));a=$('<span class="fm-vert" mtagname="mtable"></span>',n).append($("<table/>",n).append(S));var I=F.sum(s)+F.sum(o);a[0].fmUp=a[0].fmDn=.5*I}else if("mtr"==e){a=$('<tr class="fm-mtr" mtagname="mtr"></tr>',n).append($(i));var m=.6,l=.6;F.iter(function(e,t){1==(e.getAttribute(M.MathML?"rowspan":"rowSpan")||1)&&(m=Math.max(m,s[t]),l=Math.max(l,o[t]))},i),a[0].fmUp=m+.25,a[0].fmDn=l+.25}else{if("mtd"!=e){if("mfenced"==e){E=M.setAttrs(a[0],r);return M.newMe("mrow",M.mfencedToMRowArgs(E),r,n)}throw"Unrecognized or unimplemented MathML tagName: "+e}a=$('<td class="fm-mtd" mtagname="mtd"></td>',n).append($(i)),s[0]>.65&&(a[0].fmUp=s[0]),o[0]>.65&&(a[0].fmDn=o[0]);var E=M.setAttrs(a[0],r);r=void 0;var D=E.getAttribute("rowspan"),O=E.getAttribute("columnspan");D&&(E.setAttribute("rowSpan",D),M.hasClass(E,"middle")||M.addClass(E,"middle")),O&&E.setAttribute("colSpan",O)}return checkMathMLAttrs(M.setAttrs(a[0],r))},M.mfencedToMRowArgs=function(e){function t(e){return M.newMe("mo",e,void 0,r)}"mfenced"==e.tagName.toLowerCase()||F.err(err_mfencedToMRowArgs_);var r=e.ownerDocument,n=[t(F.defOr(M.getSpecAttrP(e,"open"),"(")),t(F.defOr(M.getSpecAttrP(e,"close"),")"))],a=F.slice(e.childNodes);if(0==a.length)return n;var i;if(1==a.length)i=a[0];else{for(var s=F.defOr(M.getSpecAttrP(e,"separators"),",").match(/\S/g),o=s?a.length-1:0,m=0;m<o;m++)a.splice(2*m+1,0,t(s[Math.min(m,s.length-1)]));i=M.newMe("mrow",a,void 0,r)}return n.splice(1,0,i),n},M.spaceMe=function(e,t){return M.newMe("mspace",void 0,{width:e},t)},M.fenceMe=function(e,t,r,n){return M.newMe("mrow",[M.newMe("mo",F.defOr(t,"("),n),e,M.newMe("mo",F.defOr(r,")"),n)],n)},F.iter(function(e){M[e]=F(M.newMe,e)},["mn","mi","mo","mtext","mspace","mrow","mfenced","mfrac","msqrt","mroot","msub","msup","msubsup","mmultiscripts","mprescripts","none","munder","mover","munderover","mtable","mtr","mtd","mstyle","merror","mpadded","mphantom","menclose"]),M.setMathBlockQ=function(e,t){return t?(e.setAttribute("display","block"),M.addClass(e,"ma-block")):M.MathML||$(e).addClass("fm-inline"),e},M.math=function(e,t,r){return M.setMathBlockQ(M.newMe("math",e,r),t)},M.eToMathE=function(e){function t(e){return 1!=e.nodeType?e:(F.elem(e.tagName,mtokens_)||F.iter(t,e.childNodes),checkMathMLAttrs(e))}function r(e){var t=e.tagName.toLowerCase(),a=e.childNodes;F.elem(t,mtokens_)?"mo"==t&&1==a.length&&3==a[0].nodeType&&"-"==a[0].data&&(a=M["-"]):a=F.concatMap(function(t){return 3==t.nodeType?/^\s*$/.test(t.data)?[]:[M.mtext(t.data,n)]:8==t.nodeType?[]:(1==e.nodeType||F.err(err_newMeDeep_),[r(t)])},a);var i=M.newMe(t,a,e.attributes,n);return"math"==t&&M.setMathBlockQ(i,"block"==e.getAttribute("display")),i}if(null!=M.MathML&&"math"==e.tagName.toLowerCase()||F.err(err_eToMathE_),M.MathML&&"math"==e.tagName)return fixMathMLQ_?t(e):e;var n=e.ownerDocument;return r(e)},M["-"]="−",M.trimNumS=function(e){return e.replace(/(\d\.\d*?)0+(?!\d)/g,"$1").replace(/(\d)\.(?!\d)/g,"$1").replace(/[-\u2212]0(?![.\d])/g,"0")},M.numS=function(e,t){return t&&(e=M.trimNumS(e)),e.replace(/Infinity/gi,"∞").replace(/NaN/gi,"{?}").replace(/e(-\d+)/gi,"·10^{$1}").replace(/e\+?(\d+)/gi,"·10^$1").replace(/-/g,M["-"])},M.combiningChar_="[̀-ͯ᷀-᷿⃐-⃿︠-︯]",M.surrPair_="[\ud800-\udbff][\udc00-\udfff]";var decComma_,escPat_="[\\\\`]([A-Za-z]+|.)";M.decimalComma=function(e){if(null!=e){decComma_=e;var t=(e?"\\d*,\\d+|":"")+"\\d+\\.?\\d*|\\.\\d+";M.re_=RegExp("("+t+")|"+escPat_+"|"+M.surrPair_+"|\\S"+M.combiningChar_+"*","g")}return decComma_};var commaLangs="af|an|ar|av|az|ba|be|bg|bs|ca|ce|co|cs|cu|cv|da|de|el|es|et|eu|fi|fo|fr|gl|hr|hu|hy|id|is|it|jv|kk|kl|kv|lb|lt|lv|mk|mn|mo|nl|no|os|pl|pt|ro|ru|sc|sk|sq|sr|su|sv|tr|tt|ug|uk|vi|yi";M.decimalComma(RegExp("^("+commaLangs+")\\b","i").test(document.documentElement.lang)),M.infix_={"⊂⃒":240,"⊃⃒":240,"≪̸":260,"≫̸":260,"⪯̸":260,"⪰̸":260,"∽̱":265,"≂̸":265,"≎̸":265,"≏̸":265,"≦̸":265,"≿̸":265,"⊏̸":265,"⊐̸":265,"⧏̸":265,"⧐̸":265,"⩽̸":265,"⩾̸":265,"⪡̸":265,"⪢̸":265," ":390,"":500},M.prefix_={},M.postfix_={},setPrecs(M.infix_,[[21,"|"],[30,";"],[40,",⁣"],[70,"∴∵"],[100,":"],[110,"϶"],[150,"…⋮⋯⋱"],[160,"∋"],[170,"⊢⊣⊤⊨⊩⊬⊭⊮⊯"],[190,"∨"],[200,"∧"],[240,"∁∈∉∌⊂⊃⊄⊅⊆⊇⊈⊉⊊⊋"],[241,"≤"],[242,"≥"],[243,">"],[244,"≯"],[245,"<"],[246,"≮"],[247,"≈"],[250,"∼≉"],[252,"≢"],[255,"≠"],[260,"=∝∤∥∦≁≃≄≅≆≇≍≔≗≙≚≜≟≡≨≩≪≫≭≰≱≺≻≼≽⊀⊁⊥⊴⊵⋉⋊⋋⋌⋔⋖⋗⋘⋙⋪⋫⋬⋭■□▪▫▭▮▯▰▱△▴▵▶▷▸▹▼▽▾▿◀◁◂◃◄◅◆◇◈◉◌◍◎●◖◗◦⧀⧁⧣⧤⧥⧦⧳⪇⪈⪯⪰"],[265,"⁄∆∊∍∎∕∗∘∙∟∣∶∷∸∹∺∻∽∾∿≂≊≋≌≎≏≐≑≒≓≕≖≘≝≞≣≦≧≬≲≳≴≵≶≷≸≹≾≿⊌⊍⊎⊏⊐⊑⊒⊓⊔⊚⊛⊜⊝⊦⊧⊪⊫⊰⊱⊲⊳⊶⊷⊹⊺⊻⊼⊽⊾⊿⋄⋆⋇⋈⋍⋎⋏⋐⋑⋒⋓⋕⋚⋛⋜⋝⋞⋟⋠⋡⋢⋣⋤⋥⋦⋧⋨⋩⋰⋲⋳⋴⋵⋶⋷⋸⋹⋺⋻⋼⋽⋾⋿▲❘⦁⦂⦠⦡⦢⦣⦤⦥⦦⦧⦨⦩⦪⦫⦬⦭⦮⦯⦰⦱⦲⦳⦴⦵⦶⦷⦸⦹⦺⦻⦼⦽⦾⦿⧂⧃⧄⧅⧆⧇⧈⧉⧊⧋⧌⧍⧎⧏⧐⧑⧒⧓⧔⧕⧖⧗⧘⧙⧛⧜⧝⧞⧠⧡⧢⧧⧨⧩⧪⧫⧬⧭⧮⧰⧱⧲⧵⧶⧷⧸⧹⧺⧻⧾⧿⨝⨞⨟⨠⨡⨢⨣⨤⨥⨦⨧⨨⨩⨪⨫⨬⨭⨮⨰⨱⨲⨳⨴⨵⨶⨷⨸⨹⨺⨻⨼⨽⨾⩀⩁⩂⩃⩄⩅⩆⩇⩈⩉⩊⩋⩌⩍⩎⩏⩐⩑⩒⩓⩔⩕⩖⩗⩘⩙⩚⩛⩜⩝⩞⩟⩠⩡⩢⩣⩤⩥⩦⩧⩨⩩⩪⩫⩬⩭⩮⩯⩰⩱⩲⩳⩴⩵⩶⩷⩸⩹⩺⩻⩼⩽⩾⩿⪀⪁⪂⪃⪄⪅⪆⪉⪊⪋⪌⪍⪎⪏⪐⪑⪒⪓⪔⪕⪖⪗⪘⪙⪚⪛⪜⪝⪞⪟⪠⪡⪢⪣⪤⪥⪦⪧⪨⪩⪪⪫⪬⪭⪮⪱⪲⪳⪴⪵⪶⪷⪸⪹⪺⪻⪼⪽⪾⪿⫀⫁⫂⫃⫄⫅⫆⫇⫈⫉⫊⫋⫌⫍⫎⫏⫐⫑⫒⫓⫔⫕⫖⫗⫘⫙⫚⫛⫝⫝⫞⫟⫠⫡⫢⫣⫤⫥⫦⫧⫨⫩⫪⫫⫬⫭⫮⫯⫰⫱⫲⫳⫴⫵⫶⫷⫸⫹⫺⫻⫽⫾"],[270,"←↑→↓↔↕↖↗↘↙↚↛↜↝↞↟↠↡↢↣↤↥↦↧↨↩↪↫↬↭↮↯↰↱↲↳↴↵↶↷↸↹↺↻↼↽↾↿⇀⇁⇂⇃⇄⇅⇆⇇⇈⇉⇊⇋⇌⇍⇎⇏⇐⇑⇒⇓⇔⇕⇖⇗⇘⇙⇚⇛⇜⇝⇞⇟⇠⇡⇢⇣⇤⇥⇦⇧⇨⇩⇪⇫⇬⇭⇮⇯⇰⇱⇲⇳⇴⇵⇶⇷⇸⇹⇺⇻⇼⇽⇾⇿⊸⟰⟱⟵⟶⟷⟸⟹⟺⟻⟼⟽⟾⟿⤀⤁⤂⤃⤄⤅⤆⤇⤈⤉⤊⤋⤌⤍⤎⤏⤐⤑⤒⤓⤔⤕⤖⤗⤘⤙⤚⤛⤜⤝⤞⤟⤠⤡⤢⤣⤤⤥⤦⤧⤨⤩⤪⤫⤬⤭⤮⤯⤰⤱⤲⤳⤴⤵⤶⤷⤸⤹⤺⤻⤼⤽⤾⤿⥀⥁⥂⥃⥄⥅⥆⥇⥈⥉⥊⥋⥌⥍⥎⥏⥐⥑⥒⥓⥔⥕⥖⥗⥘⥙⥚⥛⥜⥝⥞⥟⥠⥡⥢⥣⥤⥥⥦⥧⥨⥩⥪⥫⥬⥭⥮⥯⥰⥱⥲⥳⥴⥵⥶⥷⥸⥹⥺⥻⥼⥽⥾⥿⦙⦚⦛⦜⦝⦞⦟⧟⧯⧴⭅⭆"],[275,"+-±−∓∔⊞⊟"],[300,"⊕⊖⊘"],[340,"≀"],[350,"∩∪"],[390,"*.×•⁢⊠⊡⋅⨯⨿"],[400,"·"],[410,"⊗"],[640,"%"],[650,"\\∖"],[660,"/÷"],[710,"⊙"],[825,"@"],[835,"?"],[850,"⁡"],[880,"^_⁤"]]),setPrecs(M.prefix_,[[10,"‘“"],[20,"([{‖⌈⌊❲⟦⟨⟪⟬⟮⦀⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧼"],[230,"∀∃∄"],[290,"∑⨊⨋"],[300,"∬∭⨁"],[310,"∫∮∯∰∱∲∳⨌⨍⨎⨏⨐⨑⨒⨓⨔⨕⨖⨗⨘⨙⨚⨛⨜"],[320,"⋃⨃⨄"],[330,"⋀⋁⋂⨀⨂⨅⨆⨇⨈⨉⫼⫿"],[350,"∏∐"],[670,"∠∡∢"],[680,"¬"],[740,"∂∇"],[845,"ⅅⅆ√∛∜"]]),setPrecs(M.postfix_,[[10,"’”"],[20,")]}‖⌉⌋❳⟧⟩⟫⟭⟯⦀⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧽"],[800,"′♭♮♯"],[810,"!"],[880,"&'`~¨¯°´¸ˆˇˉˊˋˍ˘˙˚˜˝˷̂̑‾⃛⃜⎴⎵⏜⏝⏞⏟⏠⏡"]]);var s_,s_or_mx_a_,s_or_mx_i_,docP_,precAdj_;M.macros_={mn:F(mtokenScan,"mn"),mi:F(mtokenScan,"mi"),mo:F(mtokenScan,"mo"),text:F(mtokenScan,"mtext"),html:htmlScan,sp:spScan,attr:attrScan,attrMML:F(attrScan,null,!0),id:F(attrScan,"id"),dir:F(attrScan,"dir"),cl:clScan,mv:mvScan,bo:F(mvScan,"bold"),it:F(mvScan,"italic"),bi:F(mvScan,"bold-italic"),sc:F(mvScan,"script"),bs:F(mvScan,"bold-script"),fr:F(mvScan,"fraktur"),ds:F(mvScan,"double-struck"),bf:F(mvScan,"bold-fraktur"),mstyle:F(meScan,"mstyle"),merror:F(meScan,"merror"),mpadded:F(meScan,"mpadded"),phantom:F(phantomScan,"phantom"),vphantom:F(phantomScan,"vphantom"),enclose:F(meScan,"menclose"),ov:ovScan,minsize:minsizeScan,mrowOne:mrow1Scan,binom:binomScan},M.alias_={"-":M["-"],"'":"′","ℭ":["C","fraktur"],"ℌ":["H","fraktur"],"ℑ":["I","fraktur"],"ℜ":["R","fraktur"],"ℨ":["Z","fraktur"],"ℬ":["B","script"],"ℰ":["E","script"],"ℱ":["F","script"],"ℋ":["H","script"],"ℐ":["I","script"],"ℒ":["L","script"],"ℳ":["M","script"],"ℛ":["R","script"],"ℯ":["e","script"],"ℊ":["g","script"],"ℴ":["o","script"]};var spaces_={",":".17em",":":".22em",";":".28em","!":"-.17em"};M.dtableQ=!1,M.macro1s_={mtd:parse_mtd_tokP,rowspan:parse_rowspan_tokP,colspan:parse_colspan_tokP,mtr:parse_mtr_tokP,dtable:F(parse_table_tokP,!0),ttable:F(parse_table_tokP,!1),table:F(parse_table_tokP,void 0),math:parse_math_tokP};var embelWs_={_:"sub","^":"sup","↙":"under","↖":"over"};M.sMxAToMe=function(e,t){t||(t=document),M.infix_[""]&&M.infix_[","]||F.err(err_sToMe_1_),void 0===M.MathML&&(M.MathML=M.canMathML()),M.re_.lastIndex=0,s_="",s_or_mx_a_=Array.isArray(e)?e:[e],s_or_mx_i_=0,docP_=t,precAdj_=M.infix_[""];var r=parse_mxP_tokP(0);if(r[1])throw"Extra input:  "+r[1][1]+s_.substring(M.re_.lastIndex)+(s_or_mx_i_<s_or_mx_a_.length?"...":"");return(M.re_.lastIndex<s_.length||s_or_mx_i_<s_or_mx_a_.length)&&F.err(err_sToMe_2_),r[0]||emptyMe_()},M.sToMathE=function(e,t,r){var n=M.sMxAToMe(e,r);return F.elem(M.mtagName(n),["math","fmath"])||(n=M.newMe("math",n,r)),"string"==typeof e&&n.setAttribute("alttext",e),M.setMathBlockQ(n,t)},M.$mathQ=!0,M.inline$$Q=!1,M.parseMath=function(e){if(1==e.nodeType&&"SCRIPT"!=e.tagName)if("MATH"==e.tagName.toUpperCase()){var t=M.eToMathE(e);t!=e&&e.parentNode.replaceChild(t,e)}else for(var r=e.firstChild;r;){var n=r.nextSibling;M.parseMath(r),r=n}else if(3==e.nodeType&&/[$\\]/.test(e.data)){for(var a=e.ownerDocument,i=e.data,s=[],o="",m=/\\([$\\])|\$\$?|\\[([]/g;;){var l=m.lastIndex,c=m.exec(i),u=c?c.index:i.length;if(l<u&&(o+=i.substring(l,u)),c&&c[1])o+=c[1];else{var f,p=-1;if(c){if(f="\\("==c[0]?"\\)":"\\["==c[0]?"\\]":c[0],m.lastIndex<i.length&&("$"!=c[0]||M.$mathQ))for(p=i.indexOf(f,m.lastIndex);-1!=p&&"\\"==i.charAt(p-1);)p=i.indexOf(f,p+1);if(-1==p){o+=c[0];continue}}if(o&&(s.push(a.createTextNode(o)),o=""),!c)break;var d="$$"==c[0]||"\\["==c[0],h=M.sToMathE(i.substring(m.lastIndex,p),d,a);if(d&&M.inline$$Q&&F.elem(e.parentNode.nodeName,["P","SPAN"])){var _=$("<div/>",a).css("display","inline-block").append(h);h=(_=$("<span/>",a).css("white-space","nowrap").append(_))[0]}s.push(h),m.lastIndex=p+f.length}}F.iter(function(t){e.parentNode.insertBefore(t,e)},s),e.parentNode.removeChild(e)}},M.parseMathQ=!0,null==$.fn.parseMath&&($.fn.parseMath=function(){return F.iter(M.parseMath,this),this}),exports.parseMath=parseMath;
